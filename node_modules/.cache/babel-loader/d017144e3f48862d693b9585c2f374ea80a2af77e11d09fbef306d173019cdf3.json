{"ast":null,"code":"import \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport SPagebar from '@/layout/SPagebar.vue';\nimport * as documentoService from '@/services/documento.service';\nexport default {\n  name: 'DocumentoList',\n  components: {\n    SPagebar\n  },\n  data: () => ({\n    breadcrumbs: [{\n      'text': 'Relatórios',\n      'to': '/relatorio',\n      'exact': true\n    }],\n    relatorio: {\n      tipo_relatorio: '',\n      categoria: '',\n      ponto_numero: ''\n    },\n    errors: {},\n    tiposRelatorio: [{\n      text: 'Auxiliar',\n      value: 'auxiliar',\n      categorias: ['turismo', 'escolar', 'taxi']\n    }, {\n      text: 'Acompanhante',\n      value: 'acompanhante',\n      categorias: ['escolar']\n    }, {\n      text: 'Condutor',\n      value: 'condutor',\n      categorias: ['fretamento']\n    }, {\n      text: 'Cooperado',\n      value: 'cooperado',\n      categorias: ['turismo']\n    }, {\n      text: 'Arrendador',\n      value: 'arrendador',\n      categorias: ['turismo', 'fretamento']\n    }, {\n      text: \"Idade Média\",\n      value: \"idade\"\n    }, {\n      text: \"Infrações\",\n      value: \"infracoes\"\n    }, {\n      text: \"Permissionários\",\n      value: \"permissionario\"\n    }, {\n      text: \"Pontos\",\n      value: \"pontos\"\n    }],\n    loading: false\n  }),\n  methods: {\n    salvar() {\n      this.loading = true;\n      let request = documentoService.carregarArquivo({\n        resource: this.$endpoints.RELATORIO,\n        data: this.relatorio\n      });\n      request.then(response => {\n        this.loading = false;\n        const downloadUrl = window.URL.createObjectURL(response.data);\n        window.open(downloadUrl, '__blank');\n      }).catch(error => {\n        this.handleBlobError(error);\n        this.loading = false;\n      });\n    }\n  }\n};","map":{"version":3,"names":["SPagebar","documentoService","name","components","data","breadcrumbs","relatorio","tipo_relatorio","categoria","ponto_numero","errors","tiposRelatorio","text","value","categorias","loading","methods","salvar","request","carregarArquivo","resource","$endpoints","RELATORIO","then","response","downloadUrl","window","URL","createObjectURL","open","catch","error","handleBlobError"],"sources":["src/views/relatorio/RelatorioList.vue"],"sourcesContent":["<template>\n  <v-container fluid>\n    <s-pagebar\n      page-title=\"Emitir Relatório\"\n      :breadcrumbs=\"breadcrumbs\"\n    />\n    <v-card flat>\n      <v-card-text>\n        <v-row dense>\n          <v-col\n            cols=\"12\"\n            sm=\"12\"\n          >\n            <v-autocomplete\n              v-model=\"relatorio.tipo_relatorio\"\n              :items=\"tiposRelatorio\"\n              label=\"Tipo de Relatório\"\n              :error-messages=\"errors.tipo_relatorio\"\n            />\n          </v-col>\n          <v-col\n            cols=\"12\"\n            sm=\"12\"\n          >\n            <v-radio-group\n              v-model=\"relatorio.categoria\"\n              row\n              :error-messages=\"errors.categoria\"\n            >\n              <v-radio\n                label=\"Táxi\"\n                value=\"taxi\"\n              />\n              <v-radio\n                label=\"Escolar\"\n                value=\"escolar\"\n              />\n              <v-radio\n                label=\"Turismo\"\n                value=\"turismo\"\n              />\n              <v-radio\n                label=\"Fretamento\"\n                value=\"fretamento\"\n              />\n            </v-radio-group>\n          </v-col>\n          <v-col\n            v-if=\"relatorio.categoria === 'taxi'\"\n            cols=\"12\"\n            sm=\"12\"\n          >\n            <v-text-field\n              v-model=\"relatorio.ponto_numero\"\n              label=\"Ponto\"\n              :error-messages=\"errors.ponto\"\n            />\n          </v-col>\n        </v-row>\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer />\n        <v-btn\n          outlined\n          color=\"blue-grey darken-4\"\n          @click=\"$router.back()\"\n        >\n          Voltar\n        </v-btn>\n        <v-btn\n          color=\"blue-grey darken-4\"\n          dark\n          :loading=\"loading\"\n          @click=\"salvar\"\n        >\n          Gerar\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-container>\n</template>\n\n<script>\nimport SPagebar from '@/layout/SPagebar.vue'\nimport * as documentoService from '@/services/documento.service'\n\nexport default {\n  name: 'DocumentoList',\n  components: { SPagebar },\n  data: () => ({\n    breadcrumbs: [\n      {\n        'text': 'Relatórios',\n        'to': '/relatorio',\n        'exact': true\n      },\n    ],\n    relatorio: {\n      tipo_relatorio: '',\n      categoria: '',\n      ponto_numero: ''\n    },\n    errors: {},\n    tiposRelatorio: [\n      { text: 'Auxiliar', value: 'auxiliar', categorias: ['turismo', 'escolar', 'taxi'] },\n      { text: 'Acompanhante', value: 'acompanhante', categorias: ['escolar'] },\n      { text: 'Condutor', value: 'condutor', categorias: ['fretamento'] },\n      { text: 'Cooperado', value: 'cooperado', categorias: ['turismo'] },\n      { text: 'Arrendador', value: 'arrendador', categorias: ['turismo', 'fretamento'] },\n      { text: \"Idade Média\", value: \"idade\" },\n      { text: \"Infrações\", value: \"infracoes\" },\n      { text: \"Permissionários\", value: \"permissionario\" },\n      { text: \"Pontos\", value: \"pontos\" },\n    ],\n    loading: false,\n  }),\n  methods: {\n    salvar() {\n      this.loading = true\n      let request = documentoService.carregarArquivo({\n        resource: this.$endpoints.RELATORIO,\n        data: this.relatorio\n      })\n      request\n        .then(response => {\n          this.loading = false\n          const downloadUrl = window.URL.createObjectURL(response.data)\n          window.open(downloadUrl, '__blank')\n        })\n        .catch((error) => {\n          this.handleBlobError(error)\n          this.loading = false\n        });\n    },\n  }\n}\n</script>\n"],"mappings":";;;AAmFA,OAAAA,QAAA;AACA,YAAAC,gBAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IAAAH;EAAA;EACAI,IAAA,EAAAA,CAAA;IACAC,WAAA,GACA;MACA;MACA;MACA;IACA,EACA;IACAC,SAAA;MACAC,cAAA;MACAC,SAAA;MACAC,YAAA;IACA;IACAC,MAAA;IACAC,cAAA,GACA;MAAAC,IAAA;MAAAC,KAAA;MAAAC,UAAA;IAAA,GACA;MAAAF,IAAA;MAAAC,KAAA;MAAAC,UAAA;IAAA,GACA;MAAAF,IAAA;MAAAC,KAAA;MAAAC,UAAA;IAAA,GACA;MAAAF,IAAA;MAAAC,KAAA;MAAAC,UAAA;IAAA,GACA;MAAAF,IAAA;MAAAC,KAAA;MAAAC,UAAA;IAAA,GACA;MAAAF,IAAA;MAAAC,KAAA;IAAA,GACA;MAAAD,IAAA;MAAAC,KAAA;IAAA,GACA;MAAAD,IAAA;MAAAC,KAAA;IAAA,GACA;MAAAD,IAAA;MAAAC,KAAA;IAAA,EACA;IACAE,OAAA;EACA;EACAC,OAAA;IACAC,OAAA;MACA,KAAAF,OAAA;MACA,IAAAG,OAAA,GAAAjB,gBAAA,CAAAkB,eAAA;QACAC,QAAA,OAAAC,UAAA,CAAAC,SAAA;QACAlB,IAAA,OAAAE;MACA;MACAY,OAAA,CACAK,IAAA,CAAAC,QAAA;QACA,KAAAT,OAAA;QACA,MAAAU,WAAA,GAAAC,MAAA,CAAAC,GAAA,CAAAC,eAAA,CAAAJ,QAAA,CAAApB,IAAA;QACAsB,MAAA,CAAAG,IAAA,CAAAJ,WAAA;MACA,GACAK,KAAA,CAAAC,KAAA;QACA,KAAAC,eAAA,CAAAD,KAAA;QACA,KAAAhB,OAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}