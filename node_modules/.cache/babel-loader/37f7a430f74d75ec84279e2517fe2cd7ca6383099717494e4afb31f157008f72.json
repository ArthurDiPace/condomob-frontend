{"ast":null,"code":"import { isValidToken, refreshToken } from '@/services/auth.service';\nimport Vue from 'vue';\nimport axios from 'axios';\nconst http = axios.create({\n  baseURL: process.env.VUE_APP_API_URL\n});\nhttp.interceptors.request.use(config => {\n  const token = localStorage.getItem('condomob@accessToken');\n  if (token && isValidToken(token)) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, err => {\n  return Promise.reject(err);\n});\nhttp.interceptors.response.use(response => {\n  return response;\n}, error => {\n  if (error.response.status === 401) {\n    refreshToken();\n  }\n  if (error.response.status != 400) {\n    Vue.$toast.open({\n      message: error.message,\n      type: 'error'\n    });\n  }\n  return Promise.reject(error);\n});\nexport default http;","map":{"version":3,"names":["isValidToken","refreshToken","Vue","axios","http","create","baseURL","process","env","VUE_APP_API_URL","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","err","Promise","reject","response","error","status","$toast","open","message","type"],"sources":["/home/arthur/condomob/condomob-frontend/src/services/config.js"],"sourcesContent":["import { isValidToken, refreshToken } from '@/services/auth.service'\nimport Vue from 'vue'\nimport axios from 'axios'\n\nconst http = axios.create({\n  baseURL: process.env.VUE_APP_API_URL\n})\n\nhttp.interceptors.request.use((config) => {\n  const token = localStorage.getItem('condomob@accessToken')\n\n  if (token && isValidToken(token)) {\n    config.headers.Authorization = `Bearer ${token}`\n  }\n\n  return config\n}, (err) => {\n  return Promise.reject(err)\n})\n\nhttp.interceptors.response.use((response) => {\n  return response\n}, (error) => {\n  if (error.response.status === 401) {\n    refreshToken()\n  }\n\n  if (error.response.status != 400) {\n    Vue.$toast.open({\n      message: error.message,\n      type: 'error',\n    })\n  }\n\n  return Promise.reject(error)\n})\n\nexport default http"],"mappings":"AAAA,SAASA,YAAY,EAAEC,YAAY,QAAQ,yBAAyB;AACpE,OAAOC,GAAG,MAAM,KAAK;AACrB,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,IAAI,GAAGD,KAAK,CAACE,MAAM,CAAC;EACxBC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC;AACvB,CAAC,CAAC;AAEFL,IAAI,CAACM,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EACxC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,sBAAsB,CAAC;EAE1D,IAAIF,KAAK,IAAId,YAAY,CAACc,KAAK,CAAC,EAAE;IAChCD,MAAM,CAACI,OAAO,CAACC,aAAa,GAAI,UAASJ,KAAM,EAAC;EAClD;EAEA,OAAOD,MAAM;AACf,CAAC,EAAGM,GAAG,IAAK;EACV,OAAOC,OAAO,CAACC,MAAM,CAACF,GAAG,CAAC;AAC5B,CAAC,CAAC;AAEFf,IAAI,CAACM,YAAY,CAACY,QAAQ,CAACV,GAAG,CAAEU,QAAQ,IAAK;EAC3C,OAAOA,QAAQ;AACjB,CAAC,EAAGC,KAAK,IAAK;EACZ,IAAIA,KAAK,CAACD,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAE;IACjCvB,YAAY,CAAC,CAAC;EAChB;EAEA,IAAIsB,KAAK,CAACD,QAAQ,CAACE,MAAM,IAAI,GAAG,EAAE;IAChCtB,GAAG,CAACuB,MAAM,CAACC,IAAI,CAAC;MACdC,OAAO,EAAEJ,KAAK,CAACI,OAAO;MACtBC,IAAI,EAAE;IACR,CAAC,CAAC;EACJ;EAEA,OAAOR,OAAO,CAACC,MAAM,CAACE,KAAK,CAAC;AAC9B,CAAC,CAAC;AAEF,eAAenB,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}