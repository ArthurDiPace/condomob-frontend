{"ast":null,"code":"import { handleLogin, setToken } from '@/services/auth.service';\nexport default {\n  name: 'LoginPage',\n  data: () => ({\n    data: {\n      username: '',\n      password: ''\n    },\n    errors: {},\n    showPassword: false,\n    loading: false\n  }),\n  computed: {\n    version() {\n      return process.env.VUE_APP_VERSION;\n    }\n  },\n  methods: {\n    login() {\n      this.loading = true;\n      this.errors = {};\n      handleLogin(this.data).then(res => {\n        setToken(res);\n      }).catch(error => {\n        if (error.response.status === 401) {\n          this.$toast.open({\n            message: error.response.data.detail,\n            type: 'error'\n          });\n        } else if (error.response.status === 400) {\n          this.errors = this.handleError(error);\n        } else {\n          this.$toast.open({\n            message: error.message,\n            type: 'error'\n          });\n        }\n        this.loading = false;\n      });\n    }\n  }\n};","map":{"version":3,"names":["handleLogin","setToken","name","data","username","password","errors","showPassword","loading","computed","version","process","env","VUE_APP_VERSION","methods","login","then","res","catch","error","response","status","$toast","open","message","detail","type","handleError"],"sources":["src/views/Login.vue"],"sourcesContent":["<template>\n  <v-app>\n    <v-main class=\"blue-grey lighten-5 align-center justify-center\">\n      <v-form\n        ref=\"form\"\n        class=\"login-form\"\n        @submit.prevent=\"login\"\n      >\n        <v-img\n          src=\"@/assets/logo.png\"\n          class=\"mb-6\"\n        />\n        <v-text-field\n          v-model=\"data.username\"\n          label=\"Usuário\"\n          solo\n          :error-messages=\"errors.username\"\n        />\n        <v-text-field\n          v-model=\"data.password\"\n          label=\"Senha\"\n          solo\n          :append-icon=\"!showPassword ? 'visibility' : 'visibility_off'\"\n          :type=\"!showPassword ? 'password' : 'text'\"\n          :error-messages=\"errors.password\"\n          @keydown.enter=\"login\"\n          @click:append=\"() => (showPassword = !showPassword)\"\n        /> \n        <v-btn\n          type=\"submit\"\n          color=\"blue-grey darken-4\"\n          block\n          large\n          :loading=\"loading\"\n          :disabled=\"loading\"\n        >\n          <span class=\"white--text\">Login</span>\n        </v-btn>\n      </v-form>\n      <v-footer\n        app\n        class=\"justify-center\"\n      >\n        Versão {{ version }}\n      </v-footer>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport { handleLogin, setToken } from '@/services/auth.service'\nexport default {\nname: 'LoginPage',\n  data: () => ({\n    data: {\n      username: '',\n      password: '',\n    },\n    errors: {},\n    showPassword: false,\n    loading: false,\n  }),\n  computed: {\n    version() {\n      return process.env.VUE_APP_VERSION\n    },\n  },\n  methods: {\n    login() {\n      this.loading = true\n      this.errors = {}\n      handleLogin(this.data)\n        .then(res => {\n          setToken(res)\n        })\n        .catch(error=>{\n          if (error.response.status === 401) {\n            this.$toast.open({\n              message: error.response.data.detail,\n              type: 'error',\n            })\n          } else if (error.response.status === 400) {\n            this.errors = this.handleError(error)\n          } else {\n            this.$toast.open({\n              message: error.message,\n              type: 'error',\n            })\n          }\n          this.loading = false\n        })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.login-form {\n  max-width: 20rem;\n  margin: auto;\n}\n</style>"],"mappings":"AAkDA,SAAAA,WAAA,EAAAC,QAAA;AACA;EACAC,IAAA;EACAC,IAAA,EAAAA,CAAA;IACAA,IAAA;MACAC,QAAA;MACAC,QAAA;IACA;IACAC,MAAA;IACAC,YAAA;IACAC,OAAA;EACA;EACAC,QAAA;IACAC,QAAA;MACA,OAAAC,OAAA,CAAAC,GAAA,CAAAC,eAAA;IACA;EACA;EACAC,OAAA;IACAC,MAAA;MACA,KAAAP,OAAA;MACA,KAAAF,MAAA;MACAN,WAAA,MAAAG,IAAA,EACAa,IAAA,CAAAC,GAAA;QACAhB,QAAA,CAAAgB,GAAA;MACA,GACAC,KAAA,CAAAC,KAAA;QACA,IAAAA,KAAA,CAAAC,QAAA,CAAAC,MAAA;UACA,KAAAC,MAAA,CAAAC,IAAA;YACAC,OAAA,EAAAL,KAAA,CAAAC,QAAA,CAAAjB,IAAA,CAAAsB,MAAA;YACAC,IAAA;UACA;QACA,WAAAP,KAAA,CAAAC,QAAA,CAAAC,MAAA;UACA,KAAAf,MAAA,QAAAqB,WAAA,CAAAR,KAAA;QACA;UACA,KAAAG,MAAA,CAAAC,IAAA;YACAC,OAAA,EAAAL,KAAA,CAAAK,OAAA;YACAE,IAAA;UACA;QACA;QACA,KAAAlB,OAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}