{"ast":null,"code":"import PromptDialog from '@/components/PromptDialog.vue';\nexport default {\n  name: \"ArquivoList\",\n  components: {\n    PromptDialog\n  },\n  props: {\n    permissao: Object,\n    disabledButtons: Boolean\n  },\n  data: () => ({\n    headers: [{\n      text: \"Arquivo\",\n      value: \"arquivo\"\n    }, {\n      text: \"Data do Carregamento\",\n      value: \"data_carregamento\"\n    }, {\n      text: \"Usuario\",\n      value: \"username\"\n    }],\n    totalItems: 0,\n    items: [],\n    options: {}\n  }),\n  watch: {\n    options: {\n      handler() {\n        this.getArquivos();\n      },\n      deep: true\n    }\n  },\n  methods: {\n    async getArquivos() {\n      const {\n        sortBy,\n        sortDesc,\n        page,\n        itemsPerPage\n      } = this.options;\n      const query = {\n        arquivo: this.arquivo,\n        page: page,\n        page_size: itemsPerPage,\n        ordering: `${sortDesc && sortDesc[0] ? \"-\" : \"\"}${sortBy}`\n      };\n      const response = await this.$api.list({\n        resource: this.$endpoints.ARQUIVO,\n        query: query\n      });\n      this.items = response.data.results;\n      this.totalItems = response.data.count;\n    }\n  }\n};","map":{"version":3,"names":["PromptDialog","name","components","props","permissao","Object","disabledButtons","Boolean","data","headers","text","value","totalItems","items","options","watch","handler","getArquivos","deep","methods","sortBy","sortDesc","page","itemsPerPage","query","arquivo","page_size","ordering","response","$api","list","resource","$endpoints","ARQUIVO","results","count"],"sources":["src/views/arquivo/ArquivoList.vue"],"sourcesContent":["<template>\n  <v-card flat>\n    <v-card-text>\n      <v-data-table\n        :headers=\"headers\"\n        :items=\"items\"\n        :options.sync=\"options\"\n        :server-items-length=\"totalItems\"\n        :items-per-page=\"10\"\n        :footer-props=\"{\n          'items-per-page-options': [10, 20, 30]\n        }\"\n      />\n      <PromptDialog ref=\"prompt\" />\n    </v-card-text>\n  </v-card>\n</template>\n\n<script>\nimport PromptDialog from '@/components/PromptDialog.vue'\n\nexport default {\n    name: \"ArquivoList\",\n    components: { PromptDialog },\n    props: {\n        permissao: Object,\n        disabledButtons: Boolean\n    },\n    data: () => ({\n        headers: [\n            { text: \"Arquivo\", value: \"arquivo\" },\n            { text: \"Data do Carregamento\", value: \"data_carregamento\" },\n            { text: \"Usuario\", value: \"username\" },\n        ],\n        totalItems: 0,\n        items: [],\n        options: {},\n    }),\n    watch: {\n        options: {\n            handler() {\n                this.getArquivos();\n            },\n            deep: true\n        },\n    },\n    methods: {\n      async getArquivos() { \n        const { sortBy, sortDesc, page, itemsPerPage } = this.options   \n\n        const query = {\n          arquivo: this.arquivo,\n          page: page,\n          page_size: itemsPerPage,\n          ordering: `${sortDesc && sortDesc[0] ? \"-\" : \"\"}${sortBy}`\n        }\n        const response = await this.$api.list({\n            resource: this.$endpoints.ARQUIVO,\n            query: query\n        });\n        this.items = response.data.results;\n        this.totalItems = response.data.count;\n      },\n    }\n}\n</script>"],"mappings":"AAmBA,OAAAA,YAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IAAAF;EAAA;EACAG,KAAA;IACAC,SAAA,EAAAC,MAAA;IACAC,eAAA,EAAAC;EACA;EACAC,IAAA,EAAAA,CAAA;IACAC,OAAA,GACA;MAAAC,IAAA;MAAAC,KAAA;IAAA,GACA;MAAAD,IAAA;MAAAC,KAAA;IAAA,GACA;MAAAD,IAAA;MAAAC,KAAA;IAAA,EACA;IACAC,UAAA;IACAC,KAAA;IACAC,OAAA;EACA;EACAC,KAAA;IACAD,OAAA;MACAE,QAAA;QACA,KAAAC,WAAA;MACA;MACAC,IAAA;IACA;EACA;EACAC,OAAA;IACA,MAAAF,YAAA;MACA;QAAAG,MAAA;QAAAC,QAAA;QAAAC,IAAA;QAAAC;MAAA,SAAAT,OAAA;MAEA,MAAAU,KAAA;QACAC,OAAA,OAAAA,OAAA;QACAH,IAAA,EAAAA,IAAA;QACAI,SAAA,EAAAH,YAAA;QACAI,QAAA,KAAAN,QAAA,IAAAA,QAAA,iBAAAD,MAAA;MACA;MACA,MAAAQ,QAAA,cAAAC,IAAA,CAAAC,IAAA;QACAC,QAAA,OAAAC,UAAA,CAAAC,OAAA;QACAT,KAAA,EAAAA;MACA;MACA,KAAAX,KAAA,GAAAe,QAAA,CAAApB,IAAA,CAAA0B,OAAA;MACA,KAAAtB,UAAA,GAAAgB,QAAA,CAAApB,IAAA,CAAA2B,KAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}