{"ast":null,"code":"import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport { isValidToken } from '@/services/auth.service';\nVue.use(VueRouter);\nconst Layout = () => import( /* webpackChunkName: \"layout\" */'@/layout/SApp');\nconst routeOptions = [{\n  path: 'permissao',\n  name: 'permissao/PermissaoList'\n},\n// Exemplo de url protegida\n// { path: 'permissao/:id', name: 'permissao/PermissaoEdit', meta: { authorize: 'change_permissao' } },\n{\n  path: 'permissao/:id',\n  name: 'permissao/PermissaoEdit'\n}, {\n  path: 'permissao/historico/:id',\n  name: 'historico/HistoricoDetail'\n}, {\n  path: 'veiculo/precadastro/',\n  name: 'veiculo/VeiculoPrecadastroCreate'\n}, {\n  path: 'veiculo/precadastro/:id',\n  name: 'veiculo/VeiculoPrecadastroEdit'\n}, {\n  path: 'veiculo/',\n  name: 'veiculo/VeiculoCreate'\n}, {\n  path: 'veiculo/:id',\n  name: 'veiculo/VeiculoEdit'\n}, {\n  path: 'pessoa/precadastro/',\n  name: 'pessoa/PessoaPrecadastroCreate'\n}, {\n  path: 'pessoa/precadastro/:id',\n  name: 'pessoa/PessoaPrecadastroEdit'\n}, {\n  path: 'pessoa/',\n  name: 'pessoa/PessoaCreate'\n}, {\n  path: 'pessoa/:id',\n  name: 'pessoa/PessoaEdit'\n}, {\n  path: 'taxa',\n  name: 'taxa/TaxaList'\n}, {\n  path: 'taxa/cadastrar',\n  name: 'taxa/TaxaCreate'\n}, {\n  path: 'taxa/:id',\n  name: 'taxa/TaxaEdit'\n}, {\n  path: 'ponto',\n  name: 'ponto/PontoList'\n}, {\n  path: 'ponto/cadastrar',\n  name: 'ponto/PontoCreate'\n}, {\n  path: 'ponto/:id',\n  name: 'ponto/PontoEdit'\n}, {\n  path: 'configuracao',\n  name: 'configuracao/ConfiguracaoList'\n}, {\n  path: 'configuracao/:id',\n  name: 'configuracao/ConfiguracaoEdit'\n}, {\n  path: 'documento',\n  name: 'documento/DocumentoList'\n}, {\n  path: 'relatorio',\n  name: 'relatorio/RelatorioList'\n}, {\n  path: 'boleto',\n  name: 'boleto/BoletoCreate'\n}, {\n  path: 'vistoria',\n  name: 'vistoria/VistoriaList',\n  meta: {\n    authorize: 'change_vistoria'\n  }\n}, {\n  path: 'vistoria/:id',\n  name: 'vistoria/VistoriaEdit',\n  meta: {\n    authorize: 'change_vistoria'\n  }\n}, {\n  path: 'requerimento/cadastrar',\n  name: 'requerimento/RequerimentoCreate'\n}, {\n  path: 'requerimento/:id',\n  name: 'requerimento/RequerimentoEdit'\n}, {\n  path: 'item-vistoria',\n  name: 'item-vistoria/ItemVistoriaList',\n  meta: {\n    authorize: 'change_vistoria'\n  }\n}, {\n  path: 'item-vistoria/cadastrar',\n  name: 'item-vistoria/ItemVistoriaCreate',\n  meta: {\n    authorize: 'change_vistoria'\n  }\n}, {\n  path: 'item-vistoria/:id',\n  name: 'item-vistoria/ItemVistoriaEdit',\n  meta: {\n    authorize: 'change_vistoria'\n  }\n}, {\n  path: 'consulta-veiculo',\n  name: 'consulta/ConsultaVeiculo'\n}, {\n  path: 'consulta-pessoa',\n  name: 'consulta/ConsultaPessoa'\n}, {\n  path: 'consulta-boleto',\n  name: 'consulta/ConsultaBoleto'\n}, {\n  path: 'vistoria-boleto',\n  name: 'vistoria/VistoriaListBoleto'\n}];\nconst routes = routeOptions.map(route => {\n  return {\n    ...route,\n    component: () => import( /* webpackChunkName: \"[request]\" */`@/views/${route.name}`)\n  };\n});\nconst router = new VueRouter({\n  mode: 'history',\n  routes: [{\n    path: '/login',\n    name: 'Login',\n    component: () => import( /* webpackChunkName: \"login\" */'@/views/Login')\n  }, {\n    path: '/',\n    component: Layout,\n    children: routes\n  }]\n});\nrouter.beforeEach((to, from, next) => {\n  const token = localStorage.getItem('semob@accessToken');\n  const user = JSON.parse(localStorage.getItem('semob@user'));\n  const {\n    authorize\n  } = to.meta;\n  if (to.name !== 'Login' && !isValidToken(token)) {\n    next({\n      name: 'Login'\n    });\n  } else if (user && !user.is_superuser && authorize && !user.roles.includes(authorize)) {\n    Vue.$toast.open({\n      message: \"Você não tem permissão para executar esta ação\",\n      type: \"error\"\n    });\n  } else next();\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","isValidToken","use","Layout","routeOptions","path","name","meta","authorize","routes","map","route","component","router","mode","children","beforeEach","to","from","next","token","localStorage","getItem","user","JSON","parse","is_superuser","roles","includes","$toast","open","message","type"],"sources":["/home/arthur/semob/transporte/transporte-frontend/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport { isValidToken } from '@/services/auth.service'\n\nVue.use(VueRouter)\n\nconst Layout = () => import(/* webpackChunkName: \"layout\" */ '@/layout/SApp')\n\nconst routeOptions = [\n  { path: 'permissao', name: 'permissao/PermissaoList', },\n  // Exemplo de url protegida\n  // { path: 'permissao/:id', name: 'permissao/PermissaoEdit', meta: { authorize: 'change_permissao' } },\n  { path: 'permissao/:id', name: 'permissao/PermissaoEdit' },\n  { path: 'permissao/historico/:id', name: 'historico/HistoricoDetail' },\n  { path: 'veiculo/precadastro/', name: 'veiculo/VeiculoPrecadastroCreate' },\n  { path: 'veiculo/precadastro/:id', name: 'veiculo/VeiculoPrecadastroEdit' },\n  { path: 'veiculo/', name: 'veiculo/VeiculoCreate' },\n  { path: 'veiculo/:id', name: 'veiculo/VeiculoEdit' },\n  { path: 'pessoa/precadastro/', name: 'pessoa/PessoaPrecadastroCreate' },\n  { path: 'pessoa/precadastro/:id', name: 'pessoa/PessoaPrecadastroEdit' },\n  { path: 'pessoa/', name: 'pessoa/PessoaCreate' },\n  { path: 'pessoa/:id', name: 'pessoa/PessoaEdit' },\n  { path: 'taxa', name: 'taxa/TaxaList' },\n  { path: 'taxa/cadastrar', name: 'taxa/TaxaCreate' },\n  { path: 'taxa/:id', name: 'taxa/TaxaEdit' },\n  { path: 'ponto', name: 'ponto/PontoList' },\n  { path: 'ponto/cadastrar', name: 'ponto/PontoCreate' },\n  { path: 'ponto/:id', name: 'ponto/PontoEdit' },\n  { path: 'configuracao', name: 'configuracao/ConfiguracaoList' },\n  { path: 'configuracao/:id', name: 'configuracao/ConfiguracaoEdit' },\n  { path: 'documento', name: 'documento/DocumentoList' },\n  { path: 'relatorio', name: 'relatorio/RelatorioList' },\n  { path: 'boleto', name: 'boleto/BoletoCreate' },\n  { path: 'vistoria', name: 'vistoria/VistoriaList', meta: { authorize: 'change_vistoria' } },\n  { path: 'vistoria/:id', name: 'vistoria/VistoriaEdit', meta: { authorize: 'change_vistoria' } },\n  { path: 'requerimento/cadastrar', name: 'requerimento/RequerimentoCreate' },\n  { path: 'requerimento/:id', name: 'requerimento/RequerimentoEdit' },\n  { path: 'item-vistoria', name: 'item-vistoria/ItemVistoriaList', meta: { authorize: 'change_vistoria' } },\n  { path: 'item-vistoria/cadastrar', name: 'item-vistoria/ItemVistoriaCreate', meta: { authorize: 'change_vistoria' } },\n  { path: 'item-vistoria/:id', name: 'item-vistoria/ItemVistoriaEdit', meta: { authorize: 'change_vistoria' } },\n  { path: 'consulta-veiculo', name: 'consulta/ConsultaVeiculo'},\n  { path: 'consulta-pessoa', name: 'consulta/ConsultaPessoa'},\n  { path: 'consulta-boleto', name: 'consulta/ConsultaBoleto'},\n  { path: 'vistoria-boleto', name: 'vistoria/VistoriaListBoleto'},\n]\n\nconst routes = routeOptions.map(route => {\n  return {\n    ...route,\n    component: () => import(/* webpackChunkName: \"[request]\" */ `@/views/${route.name}`)\n  }\n})\n\nconst router = new VueRouter({\n  mode: 'history',\n  routes: [\n    {\n      path: '/login',\n      name: 'Login',\n      component: () =>\n        import(/* webpackChunkName: \"login\" */ '@/views/Login')\n    },\n    {\n      path: '/',\n      component: Layout,\n      children: routes\n    },\n  ]\n})\n\nrouter.beforeEach((to, from, next) => {\n  const token = localStorage.getItem('semob@accessToken')\n  const user = JSON.parse(localStorage.getItem('semob@user'))\n  const { authorize } = to.meta\n  if (to.name !== 'Login' && !isValidToken(token)) { next({ name: 'Login' }) }\n  else if (user && !user.is_superuser && authorize && !user.roles.includes(authorize)) {\n    Vue.$toast.open({\n      message: \"Você não tem permissão para executar esta ação\",\n      type: \"error\",\n    })\n  }\n  else next()\n})\n\nexport default router"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAClC,SAASC,YAAY,QAAQ,yBAAyB;AAEtDF,GAAG,CAACG,GAAG,CAACF,SAAS,CAAC;AAElB,MAAMG,MAAM,GAAGA,CAAA,KAAM,MAAM,EAAC,gCAAiC,eAAe,CAAC;AAE7E,MAAMC,YAAY,GAAG,CACnB;EAAEC,IAAI,EAAE,WAAW;EAAEC,IAAI,EAAE;AAA2B,CAAC;AACvD;AACA;AACA;EAAED,IAAI,EAAE,eAAe;EAAEC,IAAI,EAAE;AAA0B,CAAC,EAC1D;EAAED,IAAI,EAAE,yBAAyB;EAAEC,IAAI,EAAE;AAA4B,CAAC,EACtE;EAAED,IAAI,EAAE,sBAAsB;EAAEC,IAAI,EAAE;AAAmC,CAAC,EAC1E;EAAED,IAAI,EAAE,yBAAyB;EAAEC,IAAI,EAAE;AAAiC,CAAC,EAC3E;EAAED,IAAI,EAAE,UAAU;EAAEC,IAAI,EAAE;AAAwB,CAAC,EACnD;EAAED,IAAI,EAAE,aAAa;EAAEC,IAAI,EAAE;AAAsB,CAAC,EACpD;EAAED,IAAI,EAAE,qBAAqB;EAAEC,IAAI,EAAE;AAAiC,CAAC,EACvE;EAAED,IAAI,EAAE,wBAAwB;EAAEC,IAAI,EAAE;AAA+B,CAAC,EACxE;EAAED,IAAI,EAAE,SAAS;EAAEC,IAAI,EAAE;AAAsB,CAAC,EAChD;EAAED,IAAI,EAAE,YAAY;EAAEC,IAAI,EAAE;AAAoB,CAAC,EACjD;EAAED,IAAI,EAAE,MAAM;EAAEC,IAAI,EAAE;AAAgB,CAAC,EACvC;EAAED,IAAI,EAAE,gBAAgB;EAAEC,IAAI,EAAE;AAAkB,CAAC,EACnD;EAAED,IAAI,EAAE,UAAU;EAAEC,IAAI,EAAE;AAAgB,CAAC,EAC3C;EAAED,IAAI,EAAE,OAAO;EAAEC,IAAI,EAAE;AAAkB,CAAC,EAC1C;EAAED,IAAI,EAAE,iBAAiB;EAAEC,IAAI,EAAE;AAAoB,CAAC,EACtD;EAAED,IAAI,EAAE,WAAW;EAAEC,IAAI,EAAE;AAAkB,CAAC,EAC9C;EAAED,IAAI,EAAE,cAAc;EAAEC,IAAI,EAAE;AAAgC,CAAC,EAC/D;EAAED,IAAI,EAAE,kBAAkB;EAAEC,IAAI,EAAE;AAAgC,CAAC,EACnE;EAAED,IAAI,EAAE,WAAW;EAAEC,IAAI,EAAE;AAA0B,CAAC,EACtD;EAAED,IAAI,EAAE,WAAW;EAAEC,IAAI,EAAE;AAA0B,CAAC,EACtD;EAAED,IAAI,EAAE,QAAQ;EAAEC,IAAI,EAAE;AAAsB,CAAC,EAC/C;EAAED,IAAI,EAAE,UAAU;EAAEC,IAAI,EAAE,uBAAuB;EAAEC,IAAI,EAAE;IAAEC,SAAS,EAAE;EAAkB;AAAE,CAAC,EAC3F;EAAEH,IAAI,EAAE,cAAc;EAAEC,IAAI,EAAE,uBAAuB;EAAEC,IAAI,EAAE;IAAEC,SAAS,EAAE;EAAkB;AAAE,CAAC,EAC/F;EAAEH,IAAI,EAAE,wBAAwB;EAAEC,IAAI,EAAE;AAAkC,CAAC,EAC3E;EAAED,IAAI,EAAE,kBAAkB;EAAEC,IAAI,EAAE;AAAgC,CAAC,EACnE;EAAED,IAAI,EAAE,eAAe;EAAEC,IAAI,EAAE,gCAAgC;EAAEC,IAAI,EAAE;IAAEC,SAAS,EAAE;EAAkB;AAAE,CAAC,EACzG;EAAEH,IAAI,EAAE,yBAAyB;EAAEC,IAAI,EAAE,kCAAkC;EAAEC,IAAI,EAAE;IAAEC,SAAS,EAAE;EAAkB;AAAE,CAAC,EACrH;EAAEH,IAAI,EAAE,mBAAmB;EAAEC,IAAI,EAAE,gCAAgC;EAAEC,IAAI,EAAE;IAAEC,SAAS,EAAE;EAAkB;AAAE,CAAC,EAC7G;EAAEH,IAAI,EAAE,kBAAkB;EAAEC,IAAI,EAAE;AAA0B,CAAC,EAC7D;EAAED,IAAI,EAAE,iBAAiB;EAAEC,IAAI,EAAE;AAAyB,CAAC,EAC3D;EAAED,IAAI,EAAE,iBAAiB;EAAEC,IAAI,EAAE;AAAyB,CAAC,EAC3D;EAAED,IAAI,EAAE,iBAAiB;EAAEC,IAAI,EAAE;AAA6B,CAAC,CAChE;AAED,MAAMG,MAAM,GAAGL,YAAY,CAACM,GAAG,CAACC,KAAK,IAAI;EACvC,OAAO;IACL,GAAGA,KAAK;IACRC,SAAS,EAAEA,CAAA,KAAM,MAAM,EAAC,mCAAqC,WAAUD,KAAK,CAACL,IAAK,EAAC;EACrF,CAAC;AACH,CAAC,CAAC;AAEF,MAAMO,MAAM,GAAG,IAAIb,SAAS,CAAC;EAC3Bc,IAAI,EAAE,SAAS;EACfL,MAAM,EAAE,CACN;IACEJ,IAAI,EAAE,QAAQ;IACdC,IAAI,EAAE,OAAO;IACbM,SAAS,EAAEA,CAAA,KACT,MAAM,EAAC,+BAAgC,eAAe;EAC1D,CAAC,EACD;IACEP,IAAI,EAAE,GAAG;IACTO,SAAS,EAAET,MAAM;IACjBY,QAAQ,EAAEN;EACZ,CAAC;AAEL,CAAC,CAAC;AAEFI,MAAM,CAACG,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,mBAAmB,CAAC;EACvD,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CAAC;EAC3D,MAAM;IAAEd;EAAU,CAAC,GAAGS,EAAE,CAACV,IAAI;EAC7B,IAAIU,EAAE,CAACX,IAAI,KAAK,OAAO,IAAI,CAACL,YAAY,CAACmB,KAAK,CAAC,EAAE;IAAED,IAAI,CAAC;MAAEb,IAAI,EAAE;IAAQ,CAAC,CAAC;EAAC,CAAC,MACvE,IAAIiB,IAAI,IAAI,CAACA,IAAI,CAACG,YAAY,IAAIlB,SAAS,IAAI,CAACe,IAAI,CAACI,KAAK,CAACC,QAAQ,CAACpB,SAAS,CAAC,EAAE;IACnFT,GAAG,CAAC8B,MAAM,CAACC,IAAI,CAAC;MACdC,OAAO,EAAE,gDAAgD;MACzDC,IAAI,EAAE;IACR,CAAC,CAAC;EACJ,CAAC,MACIb,IAAI,CAAC,CAAC;AACb,CAAC,CAAC;AAEF,eAAeN,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}