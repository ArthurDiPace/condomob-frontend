{"ast":null,"code":"import \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport SPagebar from '@/layout/SPagebar.vue';\nimport * as documentoService from '@/services/documento.service';\nexport default {\n  name: 'BoletoList',\n  components: {\n    SPagebar\n  },\n  data: () => ({\n    breadcrumbs: [{\n      'text': 'Boletos',\n      'to': '/boleto',\n      'exact': true\n    }],\n    boleto: {},\n    errors: {},\n    taxas: [],\n    taxasSelecionadas: [],\n    headers: [{\n      text: 'Descrição',\n      value: 'descricao'\n    }, {\n      text: 'Valor Percentual',\n      value: 'valor_percentual'\n    }],\n    carregando: false\n  }),\n  methods: {\n    salvar() {\n      this.carregando = true;\n      this.boleto.taxas = this.taxasSelecionadas;\n      let request = documentoService.carregarArquivo({\n        resource: this.$endpoints.REGISTRAR,\n        data: this.boleto\n      });\n      request.then(response => {\n        const downloadUrl = window.URL.createObjectURL(response.data);\n        window.open(downloadUrl, '__blank');\n        this.carregando = false;\n      });\n    },\n    async buscarTaxas() {\n      this.taxasSelecionadas = [];\n      const response = await this.$api.list({\n        resource: this.$endpoints.TAXA,\n        query: {\n          categoria: this.boleto.categoria,\n          page_size: 10000\n        }\n      });\n      this.taxas = response.data.results;\n    }\n  }\n};","map":{"version":3,"names":["SPagebar","documentoService","name","components","data","breadcrumbs","boleto","errors","taxas","taxasSelecionadas","headers","text","value","carregando","methods","salvar","request","carregarArquivo","resource","$endpoints","REGISTRAR","then","response","downloadUrl","window","URL","createObjectURL","open","buscarTaxas","$api","list","TAXA","query","categoria","page_size","results"],"sources":["src/views/boleto/BoletoCreate.vue"],"sourcesContent":["<template>\n  <v-container fluid>\n    <s-pagebar\n      page-title=\"Emitir Boleto\"\n      :breadcrumbs=\"breadcrumbs\"\n    />\n    <v-card flat>\n      <v-card-text>\n        <v-row dense>\n          <v-col\n            cols=\"12\"\n            sm=\"12\"\n          >\n            <v-radio-group\n              v-model=\"boleto.categoria\"\n              row\n              :error-messages=\"errors.categoria\"\n              @change=\"buscarTaxas\"\n            >\n              <v-radio\n                label=\"Táxi\"\n                value=\"taxi\"\n              />\n              <v-radio\n                label=\"Escolar\"\n                value=\"escolar\"\n              />\n              <v-radio\n                label=\"Turismo\"\n                value=\"turismo\"\n              />\n              <v-radio\n                label=\"Fretamento\"\n                value=\"fretamento\"\n              />\n            </v-radio-group>\n          </v-col>\n          <v-col\n            cols=\"12\"\n            sm=\"12\"\n          >\n            <v-switch\n              v-model=\"boleto.sem_placa\"\n              label=\"Veiculo sem Placa\"\n            />\n          </v-col>\n          <v-col\n            v-if=\"boleto.categoria == 'turismo' || boleto.categoria == 'fretamento'\"\n            cols=\"12\"\n            sm=\"12\"\n          >\n            <v-text-field\n              v-model=\"boleto.placa\"\n              v-mask=\"['XXXXXXX']\"\n              label=\"Placa do Veículo\"\n              :error-messages=\"errors.placa\"\n            />\n          </v-col>\n          <v-col\n            v-if=\"boleto.sem_placa\"\n            cols=\"12\"\n            sm=\"12\"\n          >\n            <v-text-field\n              v-model=\"boleto.chassi\"\n              label=\"Chassi\"\n              :error-messages=\"errors.chassi\"\n            />\n          </v-col>\n          <v-col\n            v-if=\"boleto.categoria == 'taxi' || boleto.categoria == 'escolar'\"\n            cols=\"12\"\n            sm=\"12\"\n          >\n            <v-text-field\n              v-model=\"boleto.numero\"\n              label=\"Número de Registro\"\n              :error-messages=\"errors.numero\"\n            />\n          </v-col>\n          <v-col\n            cols=\"12\"\n            sm=\"12\"\n          >\n            <v-data-table\n              v-if=\"boleto.categoria\"\n              v-model=\"taxasSelecionadas\"\n              :headers=\"headers\"\n              :items=\"taxas\"\n              item-key=\"id\"\n              show-select\n              hide-default-footer\n              disable-pagination\n            />\n          </v-col>\n        </v-row>\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer />\n        <v-btn\n          outlined\n          color=\"blue-grey darken-4\"\n          @click=\"$router.back()\"\n        >\n          Voltar\n        </v-btn>\n        <v-btn\n          color=\"blue-grey darken-4\"\n          dark\n          :loading=\"carregando\"\n          @click=\"salvar\"\n        >\n          Gerar\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-container>\n</template>\n  \n  <script>\n  import SPagebar from '@/layout/SPagebar.vue'\n  import * as documentoService from '@/services/documento.service'\n\n  export default {\n    name: 'BoletoList',\n    components: { SPagebar },\n    data: () => ({\n      breadcrumbs: [\n        {\n          'text': 'Boletos',\n          'to': '/boleto',\n          'exact': true\n        },\n      ],\n      boleto: {},\n      errors: {},\n      taxas: [],\n      taxasSelecionadas: [],\n      headers: [\n        {text: 'Descrição', value: 'descricao'},\n        {text: 'Valor Percentual', value: 'valor_percentual'},\n      ],\n      carregando: false,\n    }),\n    methods: {\n      salvar() {\n        this.carregando = true\n        this.boleto.taxas = this.taxasSelecionadas\n        let request = documentoService.carregarArquivo({\n          resource: this.$endpoints.REGISTRAR,\n          data: this.boleto\n        })\n        request.then(response => {\n            const downloadUrl = window.URL.createObjectURL(response.data)\n            window.open(downloadUrl, '__blank')\n            this.carregando = false\n        })\n      },\n      async buscarTaxas() {\n        this.taxasSelecionadas = []\n        const response = await this.$api.list({\n          resource: this.$endpoints.TAXA,\n          query: {\n            categoria: this.boleto.categoria,\n            page_size: 10000,\n          }\n        })\n        this.taxas = response.data.results\n      }\n    }\n  }\n  </script>"],"mappings":";;;AAwHA,OAAAA,QAAA;AACA,YAAAC,gBAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IAAAH;EAAA;EACAI,IAAA,EAAAA,CAAA;IACAC,WAAA,GACA;MACA;MACA;MACA;IACA,EACA;IACAC,MAAA;IACAC,MAAA;IACAC,KAAA;IACAC,iBAAA;IACAC,OAAA,GACA;MAAAC,IAAA;MAAAC,KAAA;IAAA,GACA;MAAAD,IAAA;MAAAC,KAAA;IAAA,EACA;IACAC,UAAA;EACA;EACAC,OAAA;IACAC,OAAA;MACA,KAAAF,UAAA;MACA,KAAAP,MAAA,CAAAE,KAAA,QAAAC,iBAAA;MACA,IAAAO,OAAA,GAAAf,gBAAA,CAAAgB,eAAA;QACAC,QAAA,OAAAC,UAAA,CAAAC,SAAA;QACAhB,IAAA,OAAAE;MACA;MACAU,OAAA,CAAAK,IAAA,CAAAC,QAAA;QACA,MAAAC,WAAA,GAAAC,MAAA,CAAAC,GAAA,CAAAC,eAAA,CAAAJ,QAAA,CAAAlB,IAAA;QACAoB,MAAA,CAAAG,IAAA,CAAAJ,WAAA;QACA,KAAAV,UAAA;MACA;IACA;IACA,MAAAe,YAAA;MACA,KAAAnB,iBAAA;MACA,MAAAa,QAAA,cAAAO,IAAA,CAAAC,IAAA;QACAZ,QAAA,OAAAC,UAAA,CAAAY,IAAA;QACAC,KAAA;UACAC,SAAA,OAAA3B,MAAA,CAAA2B,SAAA;UACAC,SAAA;QACA;MACA;MACA,KAAA1B,KAAA,GAAAc,QAAA,CAAAlB,IAAA,CAAA+B,OAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}