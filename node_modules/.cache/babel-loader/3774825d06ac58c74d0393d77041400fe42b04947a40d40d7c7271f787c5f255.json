{"ast":null,"code":"import SPagebar from '@/layout/SPagebar.vue';\nimport PromptDialog from '@/components/PromptDialog.vue';\nexport default {\n  name: 'VeiculoCreate',\n  components: {\n    SPagebar,\n    PromptDialog\n  },\n  data: () => ({\n    carregando: false,\n    breadcrumbs: [{\n      'text': 'Permissões',\n      'to': '/permissao',\n      'exact': true\n    }, {\n      'text': 'Detalhes',\n      'disabled': true\n    }, {\n      'text': 'Incluir veículo',\n      'disabled': true\n    }],\n    categoria: null,\n    veiculo: {\n      placa: '',\n      uf: '',\n      proprietario: '',\n      municipio: '',\n      chassi: '',\n      remarcacao_chassi: '',\n      desc_tipo: '',\n      desc_especie: '',\n      desc_marca_modelo: '',\n      desc_cor: '',\n      ano_fabricacao: '',\n      ano_modelo: '',\n      desc_carroceria: '',\n      desc_combustivel: '',\n      desc_categoria: '',\n      status: '',\n      licenciamento: '',\n      restricoes: '',\n      capacidade: '',\n      buggy: ''\n    },\n    errors: {}\n  }),\n  created() {\n    this.veiculo.permissao = this.$route.query.permissao;\n    this.getPermissao();\n  },\n  methods: {\n    async getPermissao() {\n      const response = await this.$api.get({\n        resource: this.$endpoints.PERMISSAO,\n        id: this.veiculo.permissao\n      });\n      this.categoria = response.data.categoria;\n    },\n    async salvar() {\n      if (this.veiculo.desc_carroceria.length >= 20) {\n        this.veiculo.desc_carroceria = this.veiculo.desc_carroceria.substring(0, 20);\n      }\n      const response = this.$api.create({\n        resource: this.$endpoints.VEICULO,\n        data: this.veiculo\n      });\n      response.then(() => {\n        this.$toast.open({\n          message: 'Registro salvo com sucesso',\n          type: 'success'\n        });\n        this.$router.back();\n      }).catch(error => {\n        this.errors = this.handleError(error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["SPagebar","PromptDialog","name","components","data","carregando","breadcrumbs","categoria","veiculo","placa","uf","proprietario","municipio","chassi","remarcacao_chassi","desc_tipo","desc_especie","desc_marca_modelo","desc_cor","ano_fabricacao","ano_modelo","desc_carroceria","desc_combustivel","desc_categoria","status","licenciamento","restricoes","capacidade","buggy","errors","created","permissao","$route","query","getPermissao","methods","response","$api","get","resource","$endpoints","PERMISSAO","id","salvar","length","substring","create","VEICULO","then","$toast","open","message","type","$router","back","catch","error","handleError"],"sources":["src/views/arquivo/ArquivoCreate.vue"],"sourcesContent":["<template>\n  <v-container fluid>\n    <s-pagebar\n      page-title=\"Incluir veículo\"\n      :breadcrumbs=\"breadcrumbs\"\n    />\n    <v-card flat>\n      <v-card-text>\n        <v-row dense>\n          <v-col\n            cols=\"12\"\n            sm=\"12\"\n            md=\"1\"\n          >\n            <v-text-field\n              v-model=\"veiculo.placa\"\n              label=\"Placa\"\n              class=\"required\"\n              :error-messages=\"errors.placa\"\n              @input=\"consultarVeiculo\"\n            />\n          </v-col>\n          <v-col\n            cols=\"12\"\n            sm=\"12\"\n            md=\"1\"\n          >\n            <v-text-field\n              v-model=\"veiculo.uf\"\n              label=\"UF\"\n              class=\"required\"\n              readonly\n              :error-messages=\"errors.uf\"\n              :loading=\"carregando\"\n            />\n          </v-col>\n          <v-col\n            cols=\"12\"\n            sm=\"12\"\n            md=\"4\"\n          >\n            <v-text-field\n              v-model=\"veiculo.municipio\"\n              label=\"Município\"\n              class=\"required\"\n              readonly\n              :error-messages=\"errors.municipio\"\n              :loading=\"carregando\"\n            />\n          </v-col>\n          <v-col\n            cols=\"12\"\n            sm=\"12\"\n            md=\"6\"\n          >\n            <v-text-field\n              v-model=\"veiculo.proprietario\"\n              label=\"Proprietário\"\n              class=\"required\"\n              readonly\n              :error-messages=\"errors.proprietario\"\n              :loading=\"carregando\"\n            />\n          </v-col>\n          <v-col\n            cols=\"12\"\n            sm=\"12\"\n            md=\"2\"\n          >\n            <v-text-field\n              v-model=\"veiculo.chassi\"\n              label=\"Chassi\"\n              class=\"required\"\n              :error-messages=\"errors.chassi\"\n              :loading=\"carregando\"\n            />\n          </v-col>\n          <v-col\n            cols=\"12\"\n            sm=\"12\"\n            md=\"1\"\n          >\n            <v-text-field\n              v-model=\"veiculo.remarcacao_chassi\"\n              label=\"Remarcação Chassi\"\n              class=\"required\"\n              readonly\n              :error-messages=\"errors.remarcacao_chassi\"\n              :loading=\"carregando\"\n            />\n          </v-col>\n          <v-col\n            cols=\"12\"\n            sm=\"12\"\n            md=\"3\"\n          >\n            <v-text-field\n              v-model=\"veiculo.desc_tipo\"\n              label=\"Tipo\"\n              class=\"required\"\n              readonly\n              :error-messages=\"errors.desc_tipo\"\n              :loading=\"carregando\"\n            />\n          </v-col>\n          <v-col\n            cols=\"12\"\n            sm=\"12\"\n            md=\"3\"\n          >\n            <v-text-field\n              v-model=\"veiculo.desc_especie\"\n              label=\"Espécie\"\n              class=\"required\"\n              readonly\n              :error-messages=\"errors.desc_especie\"\n              :loading=\"carregando\"\n            />\n          </v-col>\n          <v-col\n            cols=\"12\"\n            sm=\"12\"\n            md=\"3\"\n          >\n            <v-text-field\n              v-model=\"veiculo.desc_cor\"\n              label=\"Cor\"\n              class=\"required\"\n              readonly\n              :error-messages=\"errors.desc_cor\"\n              :loading=\"carregando\"\n            />\n          </v-col>\n          <v-col\n            cols=\"12\"\n            sm=\"12\"\n            md=\"9\"\n          >\n            <v-text-field\n              v-model=\"veiculo.desc_marca_modelo\"\n              label=\"Marca/Modelo\"\n              class=\"required\"\n              readonly\n              :error-messages=\"errors.desc_marca_modelo\"\n              :loading=\"carregando\"\n            />\n          </v-col>\n          <v-col\n            cols=\"12\"\n            sm=\"12\"\n            md=\"1\"\n          >\n            <v-text-field\n              v-model=\"veiculo.ano_fabricacao\"\n              label=\"Ano Fabricação\"\n              class=\"required\"\n              readonly\n              :error-messages=\"errors.ano_fabricacao\"\n              :loading=\"carregando\"\n            />\n          </v-col>\n          <v-col\n            cols=\"12\"\n            sm=\"12\"\n            md=\"1\"\n          >\n            <v-text-field\n              v-model=\"veiculo.ano_modelo\"\n              label=\"Ano Modelo\"\n              class=\"required\"\n              readonly\n              :error-messages=\"errors.ano_modelo\"\n              :loading=\"carregando\"\n            />\n          </v-col>\n          <v-col\n            cols=\"12\"\n            sm=\"12\"\n            md=\"1\"\n          >\n            <v-text-field\n              v-model=\"veiculo.licenciamento\"\n              label=\"Licenciamento\"\n              class=\"required\"\n              readonly\n              :error-messages=\"errors.licenciamento\"\n              :loading=\"carregando\"\n            />\n          </v-col>\n          <v-col\n            cols=\"12\"\n            sm=\"12\"\n            md=\"3\"\n          >\n            <v-text-field\n              v-model=\"veiculo.desc_carroceria\"\n              label=\"Carroceria\"\n              class=\"required\"\n              readonly\n              :error-messages=\"errors.desc_carroceria\"\n              :loading=\"carregando\"\n            />\n          </v-col>\n          <v-col\n            cols=\"12\"\n            sm=\"12\"\n            md=\"3\"\n          >\n            <v-text-field\n              v-model=\"veiculo.desc_combustivel\"\n              label=\"Combustível\"\n              class=\"required\"\n              readonly\n              :error-messages=\"errors.desc_combustivel\"\n              :loading=\"carregando\"\n            />\n          </v-col>\n          <v-col\n            cols=\"12\"\n            sm=\"12\"\n            md=\"3\"\n          >\n            <v-text-field\n              v-model=\"veiculo.desc_categoria\"\n              label=\"Categoria\"\n              class=\"required\"\n              readonly\n              :error-messages=\"errors.desc_categoria\"\n              :loading=\"carregando\"\n            />\n          </v-col>\n          <v-col\n            cols=\"12\"\n            sm=\"12\"\n            md=\"3\"\n          >\n            <v-text-field\n              v-model=\"veiculo.status\"\n              label=\"Status\"\n              class=\"required\"\n              readonly\n              :error-messages=\"errors.status\"\n              :loading=\"carregando\"\n            />\n          </v-col>\n          <v-col\n            cols=\"12\"\n            sm=\"12\"\n          >\n            <v-textarea\n              v-model=\"veiculo.restricoes\"\n              filled\n              label=\"Restrições\"\n              class=\"required\"\n              readonly\n              :error-messages=\"errors.restricoes\"\n              :loading=\"carregando\"\n            />\n          </v-col>\n          <v-col\n            v-if=\"categoria!='taxi'\"\n            cols=\"12\"\n            sm=\"12\"\n            md=\"4\"\n          >\n            <v-text-field\n              v-model=\"veiculo.capacidade\"\n              label=\"Capacidade\"\n              class=\"required\"\n              readonly\n              :error-messages=\"errors.capacidade\"\n            />\n          </v-col>\n          <v-col\n            v-if=\"categoria=='taxi'\"\n            cols=\"12\"\n            sm=\"12\"\n            md=\"4\"\n          >\n            <v-text-field\n              v-model=\"veiculo.taximetro\"\n              label=\"Táximetro\"\n              class=\"required\"\n              :error-messages=\"errors.taximetro\"\n            />\n          </v-col>\n          <v-col\n            v-if=\"categoria!='taxi' && veiculo.desc_carroceria!='BUGGY'\"\n            cols=\"12\"\n            sm=\"12\"\n            md=\"4\"\n          >\n            <v-text-field\n              v-model=\"veiculo.tacografo\"\n              label=\"Tacógrafo\"\n              class=\"required\"\n              :error-messages=\"errors.tacografo\"\n            />\n          </v-col>\n          <v-col\n            v-if=\"categoria =='turismo'\"\n            cols=\"12\"\n            sm=\"12\"\n          >\n            <v-switch\n              v-model=\"veiculo.buggy\"\n              label=\"Veiculo BUGGY\"\n            />\n          </v-col>\n        </v-row>\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer />\n        <v-btn\n          outlined\n          color=\"blue-grey darken-4\"\n          @click=\"$router.back()\"\n        >\n          Voltar\n        </v-btn>\n        <v-btn\n          color=\"blue-grey darken-4\"\n          dark\n          @click=\"salvar\"\n        >\n          Salvar\n        </v-btn>\n      </v-card-actions>\n      <prompt-dialog ref=\"prompt\" />\n    </v-card>\n  </v-container>\n</template>\n\n<script>\nimport SPagebar from '@/layout/SPagebar.vue'\nimport PromptDialog from '@/components/PromptDialog.vue'\n\nexport default {\n  name: 'VeiculoCreate',\n  components: { SPagebar, PromptDialog },\n  data: () => ({\n    carregando: false,\n    breadcrumbs: [\n      {\n        'text': 'Permissões',\n        'to': '/permissao',\n        'exact': true\n      },\n      {\n        'text': 'Detalhes',\n        'disabled': true\n      },\n      {\n        'text': 'Incluir veículo',\n        'disabled': true\n      }\n    ],\n    categoria: null,\n    veiculo: {\n      placa: '',\n      uf: '',\n      proprietario: '',\n      municipio: '',\n      chassi: '',\n      remarcacao_chassi: '',\n      desc_tipo: '',\n      desc_especie: '',\n      desc_marca_modelo: '',\n      desc_cor: '',\n      ano_fabricacao: '',\n      ano_modelo: '',\n      desc_carroceria: '',\n      desc_combustivel: '',\n      desc_categoria: '',\n      status: '',\n      licenciamento: '',\n      restricoes: '',\n      capacidade: '',\n      buggy:'',\n    },\n    errors: {}\n  }),\n  created() {\n    this.veiculo.permissao = this.$route.query.permissao\n    this.getPermissao()\n  },\n  methods: {\n    async getPermissao() {\n      const response = await this.$api.get({\n        resource: this.$endpoints.PERMISSAO,\n        id: this.veiculo.permissao\n      })\n      this.categoria = response.data.categoria\n    },\n    async salvar() {\n      \n      if (this.veiculo.desc_carroceria.length >= 20) {\n        this.veiculo.desc_carroceria = this.veiculo.desc_carroceria.substring(0, 20);\n      }\n\n      const response = this.$api.create({\n        resource: this.$endpoints.VEICULO,\n        data: this.veiculo\n      })\n      response\n        .then(()=>{\n          this.$toast.open({\n              message: 'Registro salvo com sucesso',\n              type: 'success',\n          })\n          this.$router.back()\n        })\n        .catch(error=>{\n          this.errors = this.handleError(error)\n        })\n    }\n  }\n}\n</script>\n\n<style>\n.required label::after {\n    content: \"*\";\n    color: red;\n}\n</style>"],"mappings":"AA8UA,OAAAA,QAAA;AACA,OAAAC,YAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IAAAH,QAAA;IAAAC;EAAA;EACAG,IAAA,EAAAA,CAAA;IACAC,UAAA;IACAC,WAAA,GACA;MACA;MACA;MACA;IACA,GACA;MACA;MACA;IACA,GACA;MACA;MACA;IACA,EACA;IACAC,SAAA;IACAC,OAAA;MACAC,KAAA;MACAC,EAAA;MACAC,YAAA;MACAC,SAAA;MACAC,MAAA;MACAC,iBAAA;MACAC,SAAA;MACAC,YAAA;MACAC,iBAAA;MACAC,QAAA;MACAC,cAAA;MACAC,UAAA;MACAC,eAAA;MACAC,gBAAA;MACAC,cAAA;MACAC,MAAA;MACAC,aAAA;MACAC,UAAA;MACAC,UAAA;MACAC,KAAA;IACA;IACAC,MAAA;EACA;EACAC,QAAA;IACA,KAAAtB,OAAA,CAAAuB,SAAA,QAAAC,MAAA,CAAAC,KAAA,CAAAF,SAAA;IACA,KAAAG,YAAA;EACA;EACAC,OAAA;IACA,MAAAD,aAAA;MACA,MAAAE,QAAA,cAAAC,IAAA,CAAAC,GAAA;QACAC,QAAA,OAAAC,UAAA,CAAAC,SAAA;QACAC,EAAA,OAAAlC,OAAA,CAAAuB;MACA;MACA,KAAAxB,SAAA,GAAA6B,QAAA,CAAAhC,IAAA,CAAAG,SAAA;IACA;IACA,MAAAoC,OAAA;MAEA,SAAAnC,OAAA,CAAAa,eAAA,CAAAuB,MAAA;QACA,KAAApC,OAAA,CAAAa,eAAA,QAAAb,OAAA,CAAAa,eAAA,CAAAwB,SAAA;MACA;MAEA,MAAAT,QAAA,QAAAC,IAAA,CAAAS,MAAA;QACAP,QAAA,OAAAC,UAAA,CAAAO,OAAA;QACA3C,IAAA,OAAAI;MACA;MACA4B,QAAA,CACAY,IAAA;QACA,KAAAC,MAAA,CAAAC,IAAA;UACAC,OAAA;UACAC,IAAA;QACA;QACA,KAAAC,OAAA,CAAAC,IAAA;MACA,GACAC,KAAA,CAAAC,KAAA;QACA,KAAA3B,MAAA,QAAA4B,WAAA,CAAAD,KAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}